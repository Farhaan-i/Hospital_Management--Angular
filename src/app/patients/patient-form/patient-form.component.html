<div class="patient-form-container">
  <h2>{{isEditMode ? 'Edit' : 'Add'}} Patient</h2>

  <div class="dialog-content">
    <form [formGroup]="patientForm">
      <div class="form-grid">

        <div class="form-field full-width">
          <label for="patientName">Full Name</label>
          <input id="patientName" formControlName="patientName" required />
          <div class="error" *ngIf="patientForm.get('patientName')?.hasError('required')">
            Name is required
          </div>
          <div class="error" *ngIf="patientForm.get('patientName')?.hasError('minlength')">
            Name must be at least 2 characters long
          </div>
        </div>

        <div class="form-field full-width">
          <label for="patientEmail">Email</label>
          <input id="patientEmail" formControlName="patientEmail" type="email" required />
          <div class="error" *ngIf="patientForm.get('patientEmail')?.hasError('required')">
            Email is required
          </div>
          <div class="error" *ngIf="patientForm.get('patientEmail')?.hasError('email')">
            Please enter a valid email address
          </div>
        </div>

        <div class="form-field full-width">
          <label for="patientPhoneNumber">Phone Number</label>
          <input id="patientPhoneNumber" formControlName="patientPhoneNumber" required />
          <div class="error" *ngIf="patientForm.get('patientPhoneNumber')?.hasError('required')">
            Phone number is required
          </div>
          <div class="error" *ngIf="patientForm.get('patientPhoneNumber')?.hasError('pattern')">
            Please enter a valid 10-digit phone number
          </div>
        </div>

        <div class="form-field full-width">
          <label for="gender">Gender</label>
          <select id="gender" formControlName="gender">
            <option *ngFor="let gender of genders" [value]="gender">{{gender}}</option>
          </select>
        </div>

        <div class="form-field full-width">
          <label for="patientDateOfBirth">Date of Birth</label>
          <input id="patientDateOfBirth" type="date" formControlName="patientDateOfBirth" />
        </div>

      </div>
    </form>
  </div>

  <div class="dialog-actions">
    <button type="button" (click)="onCancel()" [disabled]="loading">Cancel</button>
    <button type="submit" (click)="onSubmit()" [disabled]="!patientForm.valid || loading">
      <span class="spinner" *ngIf="loading"></span>
      {{isEditMode ? 'Update' : 'Save'}}
    </button>
  </div>
</div>
